# Курс по git
Если хотите углубиться в команды гит, то вот [отличный сайт](https://learngitbranching.js.org/?locale=ru_RU) (обучение за 1-2 часа)

# Вывод Test.test_message() в Debug.Log
```
Успешно!
0
0
0
hi!
room 0 exists: 1
Web.names: names
Web.parms: 239
0
time = 4652 ms
```

# Правила эксплуатации
Не посылайте на сервер строки, содержащие символ `#`, во избежание ошибок обработки строк на сервере.

Функции класса `Web`: имеют тип `void`, работают в потоках и обращаются к серверу `lab`, результат записывается в переменную `Web.res`, возможны следующие значения `Web.res`:
1.	"" - пустая строка, в этом случае функция ещё не закончила своё выполнение.
2.	"-1" - проблема на клиенте: отсутствие интернета.
3.	"0" - успешное выполнение.
4.	"1" - признак того, что нужно ещё подождать и перезапустить функцию. 
5.	Что-то другое

| Функции класса Web | Требуемые параметры | Назначение | Возвращает |
| :-------------: |:------------------:| :-----:| :-----:| 
| create(parms, n)	| Параметры и вместимость комнаты	| Выбор случайной комнаты, в случае успеха (автоматически): `Web.room=x`, `lab.parms[x]=parms` |	"Успешно! Ваш номер комнаты x" или "Нет места"|
| create(parms, n, x)	| Параметры, вместимость, номер комнаты	| Выбор комнаты с заданным номером, в случае успеха (автоматически): `Web.room=x`, `lab.parms[x]=parms`|	"Успешно!" или "Такая комната уже существует" или "Некорректный номер комнаты (должен быть от 0 до 99)"|
| join(k, x, names)	| Количество игроков с данного устройства, номер комнаты, набор имён	| Присоединение к комнате, в случае успеха (автоматически): `Web.room=x`, `Web.index=index`, `lab.names[x]+=names`  |	"index",  $"Эта комната столько игроков не вместит. Свободно {n - index} мест", "Такой комнаты нет", $"Некорректный номер комнаты. Введите целое число от 0 до {lab.count - 1}"|
|||далее: x=Web.room|||
| rwait()	|	| Ожидание заполнения комнаты x	  |"0" или "1"|			
| names()	|	| Вернуть имена в комнате  |lab.names[x]|	
| parms()	|	| Вернуть параметры комнаты (ключ генерации) |lab.parms[x]|
| delete()|	| Удалить комнату x |"0"|
| delete(y)| Номер комнаты	| Удалить комнату y |"0"|
| clear()| | Очистить комнату x |"0"|
| clear(y)| Номер комнаты	| Очистить комнату y |"0"|	
| set(str) | Строка	| `lab.action[x]=str` |"0" или "1"|	
| get()| | Вернуть str |lab.action[x] или "1"|
| wait()| | Ожидание, пока все обработают ход игрока, сделавшего ход, и откликнуться |"0" или "1"|
| exists(y)| Номер комнаты| Возращает булев ответ на вопрос "Создана ли комната с номером y?"  |"0" или "1"|	

| Переменные класса Web | Назначение |
| :-------------: |:------------------:|		
| res |	Результат действия функции; гарантируется, что становится пустой до запуска потока (т.е. необязательно самостоятельно выполнять `Web.res=""` перед каждым использованием функции) |
|room |	Номер комнаты (int от 0 до 99) |
|index |	Индекс устройства в комнате (int от 0 до n-1) |

# [Ссылка на иллюстрацию как предлагается это всё применять](https://miro.com/welcomeonboard/0Y4plOF4cocLj7AuEXe44WGDEP3RfFyOAKjao4gpzTgV3vLXpiaYPtdiToCbPW0a)

# Мой псевдокод, как я вижу реализацию:
```C++
bool online; ... 
online = true; ...
/*сейчас ход i-ого игрока*/
if (index<=i && i<index+k) //k - число игроков на данном устройстве; если !online, то index==0, k==players
{
    /*стандартный игровой процесс*/
    step = ...
    side = ...
    if (online)
    {
        Web.set(step + delimeter + side); 
        while (true)
        {
            /*меняем кадры*/
            if (Web.res == "");
            else if (Web.res == "-1")
            {
                /*проверьте подключение к интернету*/
                Web.set(str);
            } 
            else break; 
        }
    } ...
}
else 
{
    /*заметь, в эту часть кода мы можем попасть, только если online*/
    /*скроем все клавиши выбора хода от пользователя*/
    Web.get();
    while (true)
    {
        /*меняем кадры*/
        if (Web.res == "");
        else if (Web.res == "-1")
        {
            /*проверьте подключение к интернету*/
            Web.set(str);
        } 
        else if (Web.res == "1") Web.get();
        else break; 
    }
    MyParse(str, out step, out side);
    /*обрабатываем step, side как будто их пользователь и ввёл*/ ...
} ...
```
			
